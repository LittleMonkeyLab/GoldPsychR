---
title: "Lab 1: Descriptive Statistics"
subtitle: "Interactive Practice with WebR"
author: "Gordon Wright"
date: "2026"
format:
  html:
    toc: true
    toc-depth: 2
    number-sections: true
    theme: cosmo
    code-fold: false

filters:
  - webr
webr:
  packages: ['dplyr', 'ggplot2']
  show-startup-message: false
---

```{r}
#| echo: false
#| message: false
library(webexercises)
```

# Welcome

This interactive chapter lets you practice R skills directly in your browser. **No installation required** - all code runs using WebR.

::: {.callout-tip}
## How to Use This Page

1. Read the explanations carefully
2. Run the code cells by clicking the **Run** button
3. Modify code and experiment - you can't break anything!
4. Complete the self-check questions to test your understanding
:::

::: {.callout-note}
## Cycling with Slides

This chapter is designed to be used **alongside** the Lab 1 slides:

| Slides Part | WebR Section |
|--------------|--------------|
| Part 1: RStudio Basics | Section 1: Getting Started |
| Part 2: Loading Data | Section 2: Loading Data |
| Part 3: Reverse Scoring | Section 3: Reverse Scoring |
| Part 4: Analysis | Sections 4-5: Descriptives & Visualisation |
| Part 5: Write-Up | Section 6: APA Write-Up |
:::

```{webr-r}
#| context: setup
#| autorun: true

# Load the Grit Scale data from GitHub
data_url <- "https://raw.githubusercontent.com/LittleMonkeyLab/datarepo/main/Y1_Week13_Lab1_grit_data.csv"
data <- read.csv(data_url, stringsAsFactors = FALSE)

# Reverse-score items G1, G3, G5, G6
data$rev_G1 <- 6 - data$G1
data$rev_G3 <- 6 - data$G3
data$rev_G5 <- 6 - data$G5
data$rev_G6 <- 6 - data$G6

# Create subscales
data$consistency <- data$rev_G1 + data$rev_G3 + data$rev_G5 + data$rev_G6
data$perseverance <- data$G2 + data$G4 + data$G7 + data$G8

# Convert Study_Year to factor
data$Study_Year <- factor(data$Study_Year, levels = c(1, 2), labels = c("First Year", "Final Year"))
```

# Getting Started with R {#sec-getting-started}

::: {.callout-note}
## Slides Part 1
Complete this section after watching **Part 1: RStudio Basics** in the slides.
:::

## Basic Arithmetic

R can work as a powerful calculator. Run the code below to see:

```{webr-r}
#| autorun: true
#| read-only: true

1 + 1
10 / 2
3 ^ 2
```

## Creating Variables

We store values using the **assignment operator** `<-`

```{webr-r}
x <- 5
y <- 2
x + y
```

::: {.callout-note}
## Self-Check
`r mcq(c("<- means 'equals'", answer = "<- means 'assign a value to a name'", "<- is a comment"))`
:::

## Vectors

A **vector** is a collection of values. We create them with `c()`:

```{webr-r}
scores <- c(4, 5, 3, 2, 5)
scores
```

Try calculating the mean of `scores`:

```{webr-r}
# Calculate the mean of the scores vector
mean(scores)
```

## Practice: Your Turn

Try creating your own vector and calculating statistics:

```{webr-r}
# Create a vector called 'my_scores' with 5 numbers of your choice
# Then calculate the mean and sd

my_scores <- c(___, ___, ___, ___, ___)
mean(my_scores)
sd(my_scores)
```

# Loading and Inspecting Data {#sec-loading-data}

::: {.callout-note}
## Slides Part 2
Complete this section after watching **Part 2: Loading Data** in the slides.
:::

## The Grit Scale Dataset

We have data from 120 university students who completed the Short Grit Scale (Grit-S). The data includes:

- `ID`: Participant identifier
- `Age`, `Gender`: Demographics
- `Study_Year`: First Year (1) or Final Year (2)
- `G1` to `G8`: Eight Grit Scale items (1-5 scale)

## Viewing the Data

Let's look at the first few rows:

```{webr-r}
#| autorun: true

head(data)
```

::: {.callout-note}
## Self-Check

How many columns are in this dataset?

`r fitb(8)`
:::

## Exploring Structure

```{webr-r}
# Check dimensions
dim(data)
```

```{webr-r}
# View column names
names(data)
```

```{webr-r}
# Examine structure
str(data)
```

::: {.callout-note}
## Self-Check

How many participants (rows) are in this dataset?

`r fitb(120)`
:::

## Practice: Explore Further

Try using `summary()` to get an overview of the data:

```{webr-r}
# Get a summary of the data
summary(data)
```

# Reverse Scoring {#sec-reverse-scoring}

::: {.callout-note}
## Slides Part 3
Complete this section after watching **Part 3: Reverse Scoring** in the slides.
:::

## Why Reverse Score?

Items G1, G3, G5, and G6 are **negatively worded**. Before creating subscale scores, we must reverse them.

For a 1-5 scale, the formula is: `reversed = 6 - original`

::: {.callout-note}
## Self-Check

On a 1-5 Likert scale, what number do we subtract from to reverse the scores?

`r fitb(6)`
:::

## Apply Reverse Scoring

The data is already loaded and reversed in the setup. Let's verify:

```{webr-r}
# Check that reverse scoring worked
head(data[, c("G1", "rev_G1", "G3", "rev_G3")])
```

## Create Subscale Scores

The Grit Scale has two subscales. The data is already prepared, but here's how it was done:

```{webr-r}
# Consistency of Interest (4 items: G1, G3, G5, G6 - all reversed)
# Perseverance of Effort (4 items: G2, G4, G7, G8 - forward scored)

# View the subscales
head(data[, c("ID", "Study_Year", "consistency", "perseverance")])
```

::: {.callout-warning}
## Common Mistake

A common error is using the **original** items (G1, G3, G5, G6) instead of the **reversed** versions (rev_G1, rev_G3, rev_G5, rev_G6) in the Consistency subscale. Always double-check!
:::

::: {.callout-note}
## Self-Check

Which items should be **reversed** for the Consistency subscale?

`r mcq(c("G2, G4, G7, G8", answer = "G1, G3, G5, G6", "All items", "None"))`
:::

# Descriptive Statistics {#sec-descriptives}

::: {.callout-note}
## Slides Part 4 (Part 1)
Complete this section after watching **Part 4: Analysis** in the slides.
:::

## Overall Summary

Calculate the mean, standard deviation, and sample size for the Consistency subscale:

```{webr-r}
# Overall descriptive statistics for Consistency of Interest
mean(data$consistency, na.rm = TRUE)
sd(data$consistency, na.rm = TRUE)
length(data$consistency)
```

::: {.callout-important}
## Key Point: na.rm = TRUE

Always include `na.rm = TRUE` when calculating statistics. This tells R to ignore missing values. Without it, a single `NA` will make your result `NA`!
:::

::: {.callout-note}
## Self-Check

What does `na.rm = TRUE` do?

`r mcq(c("Removes all rows from the data", answer = "Ignores missing values in the calculation", "Replaces missing values with zero"))`
:::

## Grouped Summaries with dplyr

The `dplyr` package makes it easy to calculate statistics by group:

```{webr-r}
library(dplyr)

data_summary <- data |>
  group_by(Study_Year) |>
  summarise(
    M_consistency = mean(consistency, na.rm = TRUE),
    SD_consistency = sd(consistency, na.rm = TRUE),
    M_perseverance = mean(perseverance, na.rm = TRUE),
    SD_perseverance = sd(perseverance, na.rm = TRUE),
    n = n(),
    .groups = "drop"
  )

data_summary
```

::: {.callout-note}
## Self-Check

What is the grouping variable?

`r fitb("Study_Year", ignore_case = TRUE)`
:::

## Understanding the Output

Look at the summary table above. Try to answer:

```{webr-r}
# Which study year has the highest Consistency score?
# Hint: Look at the 'M_consistency' column in data_summary

# You can sort the summary to make it clearer:
data_summary |>
  arrange(desc(M_consistency))
```

# Visualisation {#sec-visualisation}

::: {.callout-note}
## Slides Part 4 (Part 2)
Complete this section as part of **Part 4: Analysis** practice.
:::

## Creating a Boxplot

Let's visualise the distributions with a boxplot:

```{webr-r}
#| fig-width: 8
#| fig-height: 5

library(ggplot2)

ggplot(data, aes(x = Study_Year, y = consistency, fill = Study_Year)) +
  geom_boxplot(alpha = 0.7) +
  theme_minimal() +
  theme(legend.position = "none") +
  labs(
    title = "Consistency of Interest by Study Year",
    x = "Study Year",
    y = "Consistency of Interest Score"
  )
```

::: {.callout-note}
## Self-Check

In the code above, what aesthetic (aes) determines the colour of the boxes?

`r mcq(c("x", "y", answer = "fill", "alpha"))`
:::

## Customise Your Plot

Try modifying the plot. Change the title or create a plot for Perseverance:

```{webr-r}
#| fig-width: 8
#| fig-height: 5

# Modify this plot - try changing:
# - The title
# - The y variable (try 'perseverance' instead of 'consistency')
# - The theme (try theme_classic() or theme_bw())

ggplot(data, aes(x = Study_Year, y = perseverance, fill = Study_Year)) +
  geom_boxplot(alpha = 0.7) +
  theme_minimal() +
  theme(legend.position = "none") +
  labs(
    title = "Perseverance of Effort by Study Year",
    x = "Study Year",
    y = "Perseverance of Effort Score"
  )
```

# APA Write-Up {#sec-apa-writeup}

::: {.callout-note}
## Slides Part 5
Complete this section after watching **Part 5: Write-Up** in the slides.
:::

## Describing Your Results

Use your summary statistics to complete an APA-style paragraph.

```{webr-r}
# Display the summary again for reference
data_summary
```

::: {.callout-tip collapse="true"}
## Example Write-Up

Participants reported moderate levels of grit overall. First-year students (M = 12.45, SD = 2.31, n = 60) and final-year students (M = 13.82, SD = 2.15, n = 60) showed different levels of Consistency of Interest. Specifically, final-year students scored higher on Consistency of Interest (M = 13.82, SD = 2.15) compared to first-year students (M = 12.45, SD = 2.31), suggesting that students may develop greater consistency in their interests as they progress through their degree.
:::

# Knowledge Check {#sec-knowledge-check}

Test your understanding with these final questions:

::: {.webex-check .webex-box}

**1. What function loads a CSV file from the `readr` package?**

`r mcq(c("load_csv()", answer = "read_csv()", "import_csv()", "open_csv()"))`

**2. True or False: The pipe operator `|>` passes data to the next function.**

`r torf(TRUE)`

**3. Which dplyr function calculates summary statistics?**

`r mcq(c("group_by()", "filter()", answer = "summarise()", "mutate()"))`

**4. What package do we use for creating plots?**

`r fitb("ggplot2", ignore_case = TRUE)`

:::

# Summary

::: {.callout-tip}
## Key Skills Practised

1. Creating variables and vectors
2. Loading and inspecting data
3. Reverse-scoring questionnaire items
4. Calculating descriptive statistics
5. Creating grouped summaries with dplyr
6. Building visualisations with ggplot2
:::

## Section-Cycle Reference

| Section | Slides Part | Exercise Section |
|---------|--------------|------------------|
| 1. Getting Started | Part 1 | â€” |
| 2. Loading Data | Part 2 | Section 2 |
| 3. Reverse Scoring | Part 3 | Section 3 |
| 4. Descriptives | Part 4 | Section 4 |
| 5. Visualisation | Part 4 | Section 4 |
| 6. APA Write-Up | Part 5 | Section 5 |

## Next Steps

1. Download the **scaffolded exercise** (.qmd file)
2. Open it in RStudio on your computer
3. Complete the exercises using the real dataset
4. Render to HTML and submit

::: {.callout-note}
## Need Help?

- Review the **R Toolbox** for code reference
- Try the **follow-on exercise** for extra practice
- Ask questions in the lab session
:::
