{
  "hash": "3a60665412910dce0134b9438858ab66",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Animated Code in Revealjs\"\nsubtitle: \"Progressive reveals, auto-animate & annotations\"\nauthor: \"GoldPsychR\"\nformat:\n  revealjs:\n    theme: default\n    code-line-numbers: true\n    code-annotations: hover\n    highlight-style: github\n    transition: slide\n    slide-number: true\n    preview-links: auto\nexecute:\n  echo: true\n  eval: false\n---\n\n## Progressive Line Highlighting {.smaller}\n\nUse `code-line-numbers` with `|` to highlight lines progressively.\n\nPress → to step through:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1-2|4|5-7|8\"}\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins |>\n  filter(!is.na(bill_length_mm)) |>\n  group_by(species) |>\n  summarise(mean_bill = mean(bill_length_mm)) |>\n  arrange(desc(mean_bill))\n```\n:::\n\n\n---\n\n## How It Works\n\nThe syntax `code-line-numbers: \"|1-2|4|5-7|8\"` means:\n\n1. First: show all code (no highlight)\n2. Then: highlight lines 1-2\n3. Then: highlight line 4\n4. Then: highlight lines 5-7\n5. Finally: highlight line 8\n\n---\n\n## Code Annotations (Hover) {.smaller}\n\nHover over the circled numbers to see explanations:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |>                                      # <1>\n  filter(!is.na(bill_length_mm)) |>              # <2>\n  group_by(species) |>                           # <3>\n  summarise(mean_bill = mean(bill_length_mm))    # <4>\n```\n:::\n\n\n1. Start with the penguins dataset\n2. Remove rows with missing bill lengths\n3. Group the data by species\n4. Calculate the mean bill length for each group\n\n---\n\n## Annotations + Progressive Highlight {.smaller}\n\nCombine annotations with line highlighting:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1|2|3-5\"}\nggplot(penguins, aes(x = species, y = bill_length_mm)) +\n  geom_boxplot(fill = \"steelblue\") +             # <1>\n  theme_minimal() +                              # <2>\n  labs(                                          # <3>\n    title = \"Bill Length by Species\"             # <3>\n  )\n```\n:::\n\n\n1. Create boxplots with a nice fill colour\n2. Apply a clean, minimal theme\n3. Add informative labels\n\n---\n\n## Build Up Code Step-by-Step {auto-animate=\"true\"}\n\nStart with the basics:\n\n```r\nlibrary(tidyverse)\n```\n\n## Build Up Code Step-by-Step {auto-animate=\"true\"}\n\nAdd the data:\n\n```r\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins\n```\n\n## Build Up Code Step-by-Step {auto-animate=\"true\"}\n\nAdd filtering:\n\n```r\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins |>\n  filter(!is.na(bill_length_mm))\n```\n\n## Build Up Code Step-by-Step {auto-animate=\"true\"}\n\nAdd grouping:\n\n```r\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins |>\n  filter(!is.na(bill_length_mm)) |>\n  group_by(species)\n```\n\n## Build Up Code Step-by-Step {auto-animate=\"true\"}\n\nComplete the pipeline:\n\n```r\nlibrary(tidyverse)\nlibrary(palmerpenguins)\n\npenguins |>\n  filter(!is.na(bill_length_mm)) |>\n  group_by(species) |>\n  summarise(mean_bill = mean(bill_length_mm))\n```\n\n---\n\n## Annotated dplyr Pipeline {.smaller}\n\nA complete annotated example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata_summary <- penguins |>                      # <1>\n  filter(!is.na(body_mass_g)) |>                 # <2>\n  group_by(species, sex) |>                      # <3>\n  summarise(                                     # <4>\n    mean_mass = mean(body_mass_g),               # <4>\n    sd_mass = sd(body_mass_g),                   # <4>\n    n = n(),                                     # <4>\n    .groups = \"drop\"                             # <5>\n  )\n```\n:::\n\n\n1. Take penguins and assign the result to `data_summary`\n2. Remove rows where body mass is missing\n3. Group by both species and sex\n4. Calculate summary statistics for each group\n5. Drop the grouping structure when done\n\n---\n\n## Annotated ggplot2 {.smaller}\n\nBreaking down a plot:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins,                                 # <1>\n       aes(x = bill_length_mm,                   # <2>\n           y = bill_depth_mm,                    # <2>\n           colour = species)) +                  # <2>\n  geom_point(alpha = 0.7) +                      # <3>\n  geom_smooth(method = \"lm\", se = FALSE) +       # <4>\n  theme_minimal() +                              # <5>\n  labs(title = \"Bill Dimensions by Species\")     # <6>\n```\n:::\n\n\n1. Start ggplot with the penguins data\n2. Map aesthetics: x, y, and colour\n3. Add points with some transparency\n4. Add linear regression lines (no confidence band)\n5. Use a clean theme\n6. Add a descriptive title\n\n---\n\n## Fragment Reveals {.smaller}\n\nReveal code blocks one at a time:\n\n::: {.fragment}\n**Step 1: Load packages**\n```r\nlibrary(ggplot2)\n```\n:::\n\n::: {.fragment}\n**Step 2: Create base plot**\n```r\nggplot(data, aes(x = group, y = score))\n```\n:::\n\n::: {.fragment}\n**Step 3: Add geometry**\n```r\nggplot(data, aes(x = group, y = score)) +\n  geom_boxplot()\n```\n:::\n\n---\n\n## Fragment with Fade {.smaller}\n\n::: {.fragment .fade-in}\n```r\n# First this appears\nx <- 1:10\n```\n:::\n\n::: {.fragment .fade-in}\n```r\n# Then this\ny <- x^2\n```\n:::\n\n::: {.fragment .fade-in}\n```r\n# Finally this\nplot(x, y)\n```\n:::\n\n---\n\n## Highlight Then Fade {.smaller}\n\nUse `.fade-in-then-semi-out` to focus attention:\n\n::: {.fragment .fade-in-then-semi-out}\n```r\n# Load the data\ndata <- read_csv(\"experiment.csv\")\n```\n:::\n\n::: {.fragment .fade-in-then-semi-out}\n```r\n# Clean it\ndata_clean <- data |> drop_na()\n```\n:::\n\n::: {.fragment .fade-in}\n```r\n# Analyse it\nmodel <- lm(score ~ condition, data = data_clean)\n```\n:::\n\n---\n\n## Side-by-Side Comparison {auto-animate=\"true\"}\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n**Base R**\n```r\nmean(data$score)\n```\n:::\n\n::: {.column width=\"50%\"}\n**Tidyverse**\n```r\ndata |>\n  summarise(m = mean(score))\n```\n:::\n::::\n\n## Side-by-Side Comparison {auto-animate=\"true\"}\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n**Base R**\n```r\nmean(data$score)\nsd(data$score)\nlength(data$score)\n```\n:::\n\n::: {.column width=\"50%\"}\n**Tidyverse**\n```r\ndata |>\n  summarise(\n    m = mean(score),\n    s = sd(score),\n    n = n()\n  )\n```\n:::\n::::\n\n---\n\n## Annotated Comparison {.smaller}\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n**Base R approach**\n\n::: {.cell}\n\n```{.r .cell-code}\naggregate(                    # <1>\n  score ~ group,              # <2>\n  data = mydata,              # <3>\n  FUN = mean                  # <4>\n)\n```\n:::\n\n\n1. Base R function\n2. Formula: outcome ~ grouping\n3. Specify the data\n4. Function to apply\n:::\n\n::: {.column width=\"50%\"}\n**Tidyverse approach**\n\n::: {.cell}\n\n```{.r .cell-code}\nmydata |>                     # <1>\n  group_by(group) |>          # <2>\n  summarise(                  # <3>\n    mean = mean(score)        # <4>\n  )\n```\n:::\n\n\n1. Start with data\n2. Group by factor\n3. Summarise each group\n4. Calculate the mean\n:::\n::::\n\n---\n\n## Highlighting Specific Parts {.smaller}\n\nDraw attention to key syntax:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\npenguins |>\n  group_by(species) |>\n  summarise(mean = mean(bill_length_mm, na.rm = TRUE)) |>\n  arrange(desc(mean))\n```\n:::\n\n\nThe `na.rm = TRUE` argument is essential!\n\n---\n\n## Multiple Highlight Groups {.smaller}\n\nShow related lines together:\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"|1,5|2-4\"}\nggplot(penguins, aes(x = species, y = bill_length_mm)) +\n  geom_boxplot(fill = \"steelblue\") +\n  theme_minimal() +\n  labs(title = \"Bill Length by Species\") +\n  coord_flip()\n```\n:::\n\n\n- Lines 1 & 5: Structure (ggplot + coord)\n- Lines 2-4: Aesthetics (geom, theme, labels)\n\n---\n\n## Code with Output Animation {.smaller}\n\nShow code, then reveal output:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> count(species)\n```\n:::\n\n\n::: {.fragment}\n**Output:**\n```\n# A tibble: 3 × 2\n  species       n\n  <fct>     <int>\n1 Adelie      152\n2 Chinstrap    68\n3 Gentoo      124\n```\n:::\n\n---\n\n## Typewriter Effect {auto-animate=\"true\" auto-animate-easing=\"ease-in-out\"}\n\n::: {data-id=\"code\"}\n```r\nggplot(data)\n```\n:::\n\n## Typewriter Effect {auto-animate=\"true\" auto-animate-easing=\"ease-in-out\"}\n\n::: {data-id=\"code\"}\n```r\nggplot(data, aes(x, y))\n```\n:::\n\n## Typewriter Effect {auto-animate=\"true\" auto-animate-easing=\"ease-in-out\"}\n\n::: {data-id=\"code\"}\n```r\nggplot(data, aes(x, y)) +\n  geom_point()\n```\n:::\n\n## Typewriter Effect {auto-animate=\"true\" auto-animate-easing=\"ease-in-out\"}\n\n::: {data-id=\"code\"}\n```r\nggplot(data, aes(x, y)) +\n  geom_point() +\n  theme_minimal()\n```\n:::\n\n---\n\n## Quick Reference\n\n| Effect | Syntax |\n|--------|--------|\n| Annotations (hover) | `code-annotations: hover` + `# <1>` |\n| Progressive highlight | `code-line-numbers: \"\\|1\\|2-3\\|4\"` |\n| Auto-animate slides | `{auto-animate=\"true\"}` in header |\n| Fragment reveal | `::: {.fragment}` |\n| Fade in then out | `.fragment .fade-in-then-semi-out` |\n| Smooth easing | `auto-animate-easing=\"ease-in-out\"` |\n| Match elements | `data-id=\"name\"` |\n\n---\n\n## Tips for Teaching\n\n1. **Use annotations** - students see what each line does\n2. **Don't reveal too much at once** - one concept per step\n3. **Highlight key lines** - draw attention to important syntax\n4. **Build up complexity** - start simple, add layers\n5. **Combine techniques** - annotations + highlighting works well\n\n---\n\n## The End\n\nThese techniques help students follow along without getting overwhelmed by walls of code.\n\n[Back to demos](../demos/)\n",
    "supporting": [
      "revealjs-code-animation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}