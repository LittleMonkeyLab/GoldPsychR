{
  "hash": "63b8496dd99c08bd2fb5755199a86a41",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Boil in the Bag: Paired Samples t-test\"\nsubtitle: \"Comparing two related measurements\"\nformat: html\n---\n\n## Overview\n\n**Use this template when:** You have the same participants measured twice, or matched pairs of participants.\n\n**Example scenarios:**\n- Pre-test vs Post-test (same people)\n- Left hand vs Right hand\n- Matched pairs design\n\n\n## Step 1: Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(effectsize)\n```\n:::\n\n\n\n## Step 2: Load Your Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# CHANGE THIS: Replace with your data file\ndata <- read_csv(\"data/paired_ttest_data.csv\")\n\nglimpse(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 20\nColumns: 5\n$ id     <dbl> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, …\n$ age    <dbl> 21, 22, 20, 23, 21, 22, 20, 24, 21, 22, 23, 20, 21, 22, 20, 21,…\n$ gender <dbl> 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 1, 1, 2, 1, 2, 1\n$ time1  <dbl> 45, 48, 42, 51, 47, 44, 49, 46, 43, 50, 48, 45, 47, 52, 44, 46,…\n$ time2  <dbl> 52, 55, 48, 59, 53, 51, 56, 54, 50, 58, 55, 53, 54, 60, 51, 53,…\n```\n\n\n:::\n:::\n\n\n\n## Step 3: Define Your Variables\n\n**CHANGE THESE** to match your variable names:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# CHANGE THESE to your variable names\ntime1_var <- \"time1\"   # First measurement\ntime2_var <- \"time2\"   # Second measurement\n\n# Calculate difference score\ndata <- data |>\n  mutate(difference = .data[[time2_var]] - .data[[time1_var]])\n```\n:::\n\n\n\n## Step 4: Descriptive Statistics\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndescriptives <- data |>\n  summarise(\n    # Time 1\n    time1_n = sum(!is.na(.data[[time1_var]])),\n    time1_mean = mean(.data[[time1_var]], na.rm = TRUE),\n    time1_sd = sd(.data[[time1_var]], na.rm = TRUE),\n    # Time 2\n    time2_n = sum(!is.na(.data[[time2_var]])),\n    time2_mean = mean(.data[[time2_var]], na.rm = TRUE),\n    time2_sd = sd(.data[[time2_var]], na.rm = TRUE),\n    # Difference\n    diff_mean = mean(difference, na.rm = TRUE),\n    diff_sd = sd(difference, na.rm = TRUE)\n  )\n\nprint(descriptives)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 8\n  time1_n time1_mean time1_sd time2_n time2_mean time2_sd diff_mean diff_sd\n    <int>      <dbl>    <dbl>   <int>      <dbl>    <dbl>     <dbl>   <dbl>\n1      20       46.9     2.92      20       54.0     3.33      7.15   0.671\n```\n\n\n:::\n:::\n\n\n### Visualise the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Reshape for plotting\ndata_long <- data |>\n  select(id, all_of(c(time1_var, time2_var))) |>\n  pivot_longer(\n    cols = all_of(c(time1_var, time2_var)),\n    names_to = \"time\",\n    values_to = \"score\"\n  )\n\n# Paired plot with lines connecting individuals\nggplot(data_long, aes(x = time, y = score)) +\n  geom_boxplot(alpha = 0.3, width = 0.3) +\n  geom_line(aes(group = id), alpha = 0.3) +\n  geom_point(alpha = 0.5) +\n  stat_summary(fun = mean, geom = \"point\", shape = 18, size = 5, color = \"red\") +\n  labs(\n    x = \"Time\",\n    y = \"Score\",\n    title = \"Individual Changes Over Time\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![Paired comparison](02_paired_ttest_files/figure-html/visualise-1.png){width=672}\n:::\n:::\n\n\n\n## Step 5: Check Assumptions\n\n### Assumption: Normality of Difference Scores\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Shapiro-Wilk test on difference scores\nshapiro_result <- shapiro.test(data$difference)\nprint(shapiro_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  data$difference\nW = 0.798, p-value = 0.0008068\n```\n\n\n:::\n:::\n\n\n### Visual Check: Q-Q Plot of Differences\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(sample = difference)) +\n  stat_qq() +\n  stat_qq_line() +\n  labs(title = \"Q-Q Plot of Difference Scores\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![Q-Q plot of difference scores](02_paired_ttest_files/figure-html/qq-plot-1.png){width=672}\n:::\n:::\n\n\n### Histogram of Differences\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x = difference)) +\n  geom_histogram(bins = 10, fill = \"steelblue\", alpha = 0.7, color = \"white\") +\n  geom_vline(xintercept = 0, linetype = \"dashed\", color = \"red\") +\n  geom_vline(xintercept = mean(data$difference), color = \"blue\", size = 1) +\n  labs(\n    x = \"Difference (Time2 - Time1)\",\n    y = \"Frequency\",\n    title = \"Distribution of Change Scores\"\n  ) +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![Distribution of difference scores](02_paired_ttest_files/figure-html/histogram-1.png){width=672}\n:::\n:::\n\n\n\n## Step 6: Run the Paired t-test\n\n\n::: {.cell}\n\n```{.r .cell-code}\nt_result <- t.test(\n  data[[time1_var]],\n  data[[time2_var]],\n  paired = TRUE\n)\n\nprint(t_result)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tPaired t-test\n\ndata:  data[[time1_var]] and data[[time2_var]]\nt = -47.667, df = 19, p-value < 2.2e-16\nalternative hypothesis: true mean difference is not equal to 0\n95 percent confidence interval:\n -7.463954 -6.836046\nsample estimates:\nmean difference \n          -7.15 \n```\n\n\n:::\n:::\n\n\n\n## Step 7: Effect Size\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cohen's d for paired samples\nd <- cohens_d(\n  data[[time1_var]],\n  data[[time2_var]],\n  paired = TRUE\n)\n\nprint(d)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCohen's d |          95% CI\n---------------------------\n-10.66    | [-13.94, -7.27]\n```\n\n\n:::\n:::\n\n\n\n## Step 8: Summary of Results\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncat(\"=== PAIRED SAMPLES T-TEST RESULTS ===\\n\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n=== PAIRED SAMPLES T-TEST RESULTS ===\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"DESCRIPTIVES:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nDESCRIPTIVES:\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  Time 1: M = %.2f, SD = %.2f\\n\",\n            descriptives$time1_mean,\n            descriptives$time1_sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Time 1: M = 46.90, SD = 2.92\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  Time 2: M = %.2f, SD = %.2f\\n\",\n            descriptives$time2_mean,\n            descriptives$time2_sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Time 2: M = 54.05, SD = 3.33\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  Mean difference: %.2f (SD = %.2f)\\n\",\n            descriptives$diff_mean,\n            descriptives$diff_sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Mean difference: 7.15 (SD = 0.67)\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(\"\\nINFERENTIAL STATISTICS:\\n\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nINFERENTIAL STATISTICS:\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  t(%d) = %.2f, p = %.3f\\n\",\n            t_result$parameter,\n            t_result$statistic,\n            t_result$p.value))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  t(19) = -47.67, p = 0.000\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  95%% CI for mean difference: [%.2f, %.2f]\\n\",\n            t_result$conf.int[1],\n            t_result$conf.int[2]))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  95% CI for mean difference: [-7.46, -6.84]\n```\n\n\n:::\n\n```{.r .cell-code}\ncat(sprintf(\"  Cohen's d = %.2f\\n\", d$Cohens_d))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Cohen's d = -10.66\n```\n\n\n:::\n:::\n\n\n\n## Step 9: APA Write-Up Template\n\n::: {.callout-note}\n## APA Format\n\nA paired samples t-test was conducted to compare [OUTCOME] at [TIME 1] and [TIME 2]. There was a [significant/non-significant] difference between [TIME 1] (*M* = XX.XX, *SD* = XX.XX) and [TIME 2] (*M* = XX.XX, *SD* = XX.XX), *t*(XX) = XX.XX, *p* = .XXX, *d* = X.XX. On average, scores [increased/decreased] by XX.XX units (95% CI [X.XX, X.XX]).\n:::\n\n\n## Checklist\n\n- [ ] Data loaded correctly\n- [ ] Variables renamed to match your data\n- [ ] Difference scores calculated\n- [ ] Normality of differences checked\n- [ ] Paired t-test run\n- [ ] Effect size calculated\n- [ ] Results interpreted\n",
    "supporting": [
      "02_paired_ttest_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}